{% extends 'base.html' %}
{% load static %}
{% block content %}
<!-- Main -->
<div id="main" class="wrapper style1">
	<div class="container">
		<header class="major">
			<h2>Add Expense</h2>
			<p>Let's have a talk</p>
		</header>
		<!-- Form -->
		<section>
			<!-- <a href="#" class="image fit"><img src=" {% static 'images/contact.jpg' %} " alt="" /></a> -->
			<h3>Expense</h3>
			<form method="POST">
				{% csrf_token %}
				<div class="row gtr-uniform gtr-50">
					<div class="col-6 col-12-xsmall">
						<input type="text" name="item_name" id="name" value="" placeholder="Item Name" />
					</div>
					<div class="col-6 col-12-xsmall">
						<input type="text" name="item_amount" id="email" value="" placeholder="Item Amount" />
					</div>
					<div class="col-6 col-12-xsmall">
						<select name="item_category" id="category">
							<option value="" selected disabled hidden>Choose Item category</option>
							{% for item in category %}
							<option value="{{item}}" name="category">{{item}}</option>
							{% endfor %}
						</select>
					</div>
					<div class="col-6 col-12-xsmall">
						<input type="date" name="item_date" id="email" value="" placeholder="Item Date" />
					</div>

					<div class="col-12 col-12-xsmall">
						<ul class="actions">
							<li><a href="{% url 'category' %}">Add Item Category</a></li>
						</ul>
					</div>

					<div class="col-12 col-12-xsmall">
						<ul class="actions">
							<li><input type="submit" value="Send Message" class="primary" name="adddata"/></li>
							<li><input type="reset" value="Reset" /></li>
							<!-- <li><input type="reset" value="Add Item Category" /></li> -->
						</ul>
					</div>
				</div>
			</form>
		</section>

		<hr>
		
		<section>
			<h4>Expense Tracker</h4>
			<div class="table-wrapper">
				<table class="alt">
					<thead>
						<tr>
							<th>Name</th>
							<th>Amount</th>
							<th>Category</th>
							<th>Date</th>
							<th>Edit</th>
							<th>Delete</th>
						</tr>
					</thead>
					<tbody>
						{% for i in allexpense %}
						<tr>
							<td>{{i.item}}</td>
							<td>{{i.amount}}</td>
							<td>{{i.category}}</td>
							<td>{{i.date}}</td>
							<td>
								<form method="POST">
									{% csrf_token %}
									<button type="submit" name="edit">
										<i class="fas fa-edit"></i>
									</button>
								</form>
							</td>

							<td>
								<form method="POST">
									{% csrf_token %}
									<button type="submit" name="delete">
										<i class="fa fa-trash"></i>
									</button>
								</form>
							</td>
						</tr>
						{% endfor %}
					</tbody>
					<tfoot>
						<tr>
							<td colspan="1"></td>
							<td>Total: {{total}}</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</section>

	</div>
</div>

{% if msg %}
<script>alert('{{ msg }}')</script>
{% endif %}
{% endblock %}